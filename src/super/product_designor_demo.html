<!DOCTYPE html>
<html>
<head>
<title>Craftyourchoice</title>
<!-- Google Webfonts -->
<link href='/css/Gorditas.css' rel='stylesheet' type='text/css'>
<!-- Google Webfonts 110 -->
<link href='/css/googlefonts.css' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="/super/assets/font-awesome/4.5.0/css/font-awesome.min.css">
<!-- The CSS for the plugin itself - required -->
<link rel="stylesheet" type="text/css" href="/productdesigner/css/FancyProductDesigner-all.min.css" />
<!-- Optional - only when you would like to use custom fonts - optional -->
<link rel="stylesheet" type="text/css"
  href="/productdesigner/css/jquery.fancyProductDesigner-fonts.css" />
</head>
<body style="height: 100%; width: 100%">
  <div class="container" id="product_design_caontainer" style="width: 100%;">
    <div id="set_frame_mask_dom" class="text-center frame-mask-action-dom" style="display: none;">
      <input type="hidden" id="frame_id" name="frame">
      <input type="hidden" id="pic_id" name="pic">
      <span class="btn btn-sm btn-success btn-round btn-mini" style="margin-top: 3%;" id="set_frame_mask_btn"><span class="fpd-icon-done"></span> Save Frame</span>
    </div>
    <div id="main-container">
      <h3 id="clothing" style="float: left;">{{p.code}}-{{p.name}} Designer</h3>
      <div id="product-designer" style="clear: both;"
        class="fpd-container fpd-shadow-2 fpd-sidebar fpd-tabs fpd-tabs-side fpd-top-actions-centered fpd-bottom-actions-centered fpd-views-inside-left">
        {%if canvas%}
        <div class="fpd-product" title="Base" data-thumbnail="{{canvas.img_url}}">
          <img src="{%if canvas.img_url%}{{canvas.img_url}}=s0{%else%}/img/Product.png{%endif%}"
            title="Base"
            data-parameters='{"product_canvas": true, "left": {{canvas.left}}, "top": {{canvas.top}} }' />
        </div>
        {%else%}
        <div class="fpd-product" title="Base" data-thumbnail="/img/MUG.png">
          <img src="/img/Product.png" title="Base"
            data-parameters='{"product_canvas": true, "left": 525, "top": 400, }' />
        </div>
        {%endif%}
        <div class="fpd-design">
          {%for cat in design_list%}
          <div class="fpd-category" title="{{cat.title}}" data-thumbnail="">
            {%if cat.key in sub_cat_dict%} {%set cat_list=sub_cat_dict[cat.key]%} {%for sc in
            cat_list%}
            <div class="fpd-category" title="{{sc.title}}" data-thumbnail="">
              {%for img in sc.img_url%} <img src="{{img}}=s0" title="{{sc.title}}{{loop.index}}"
                data-parameters='{"clipart": true, "zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
              {%endfor%}
            </div>
            {%endfor%} {%endif%} {%for img in cat.img_url%} <img src="{{img}}=s0"
              title="{{cat.title}}{{loop.index}}"
              data-parameters='{"clipart": true, "zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
            {%endfor%}
          </div>
          {%endfor%}
        </div>
        <div class="fpd-background">
          {%for cat in bg_list%}
          <div class="fpd-category" title="{{cat.title}}" data-thumbnail="">
            {%if cat.key in sub_bg_dict%} {%set cat_list=sub_bg_dict[cat.key]%} {%for sc in
            cat_list%}
            <div class="fpd-category" title="{{sc.title}}" data-thumbnail="">
              {%for img in sc.img_url%} <img src="{{img}}=s0" title="{{sc.title}}{{loop.index}}"
                data-parameters='{"zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
              {%endfor%}
            </div>
            {%endfor%} {%endif%} {%for img in cat.img_url%} <img src="{{img}}=s0"
              title="{{cat.title}}{{loop.index}}"
              data-parameters='{"zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
            {%endfor%}
          </div>
          {%endfor%}
        </div>
        <div class="fpd-frame">
          {%for cat in frame_list%}
          <div class="fpd-category" title="{{cat.title}}" data-thumbnail="">
            {%if cat.key in sub_frame_dict%} {%set cat_list=sub_frame_dict[cat.key]%} {%for sc in
            cat_list%}
            <div class="fpd-category" title="{{sc.title}}" data-thumbnail="">
              {%for img in sc.img_url%} <img src="{{img}}" title="{{sc.img_title[loop.index-1]}}"
                data-parameters='{"svg": "{{sc.bucket_path[loop.index-1]}}", "zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
              {%endfor%}
            </div>
            {%endfor%} {%endif%} {%for img in cat.img_url%} <img src="{{img}}"
              title="{{cat.img_title[loop.index-1]}}"
              data-parameters='{"svg": "{{cat.bucket_path[loop.index-1]}}", "zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}'>
            {%endfor%}
          </div>
          {%endfor%}
        </div>
        {#<div class="fpd-frame">
          <div class="fpd-category" title="Frame Mock" data-thumbnail="">
            <img src="/wp-content/3_box_frame.svg" title="Frame"
              data-parameters='{"svg": "/wp-content/3_box_frame.svg", "zChangeable": true, "colors": "#000000", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
          </div>
          <div class="fpd-category" title="Frame test" data-thumbnail="">
            <img src="/wp-content/3_box_frame.svg" title="Frame"
              data-parameters='{"svg": "/wp-content/3_box_frame.svg", "removable": true, "draggable": true, "rotatable": true, "resizable": true, "boundingBox": "Base", "autoCenter": true}' />
          </div>
        </div>#}
      </div>
      <br />
      <div class="fpd-clearfix text-center" style="margin-top: 15px;">
        <div class="api-buttons fpd-container">
          <h5>Help and tips:</h5>
          <ol>
            <li>Keyboard Control: Use arrow keys to move and backspace key to delete selected
              element</li>
          </ol>
          <form id="create_product_design_form">
          
            <input type="hidden" name="code" value="{{p.code}}">
            <input type="hidden" name="name" value="{{p.name}}">
            <input type="hidden" name="product" value="{{key}}">
            <textarea style="display: none;" name="design_print" id="design_print"></textarea>
            <textarea style="display: none;" name="layer" id="design_layer"></textarea>
            <!-- <button type="button" class="fpd-btn" onclick="createReadyDesign()">Create
              Ready Design</button> -->
          </form>
          <p id="pls_wait_design_saving" style="display: none;" class="text-center">Please wait
            preparing your design...</p>
        </div>
      </div>
    </div>
  </div>
</body>
<!-- Include js files -->
<script src="/js/jquery.min.js" type="text/javascript"></script>
<script src="/js/jquery-ui.min.js" type="text/javascript"></script>
<!-- HTML5 canvas library - required -->
<script src="/productdesigner/js/jquery-mousewheel.js" type="text/javascript"></script>
<script src="/productdesigner/js/fabric.min.js" type="text/javascript"></script>
<script src="/productdesigner/js/fancyDesigner2.js" type="text/javascript"></script>
<script src="/super/assets/js/algo.js"></script>
<script type="text/javascript">  
var canvasPreviewUrl = '',
preview_top = 0,
preview_left = 0,
stage_height = 780,
stage_width=780;
{%if canvas%}
canvasPreviewUrl = {%if canvas.preview_url%}'{{canvas.preview_url}}=s0'{%else%}''{%endif%};
preview_top = '{{canvas.preview_top}}px';
preview_left = '{{canvas.preview_left}}px';
stage_height = {{canvas.stage_height}};
stage_width = {{canvas.stage_width}};
{%endif%}

  jQuery(document).ready(
      function() {

        var $yourDesigner = $('#product-designer'), pluginOpts = {
          stageWidth : stage_width, 
          stageHeight: stage_height, 
          editorMode : true,
          fitImagesInCanvas: true,
          mainBarModules : [ 'images', 'frames', 'backgrounds', 'text', 'designs', 
              'manage-layers'],
          actions : {
            'right' : [ ],
            'top' : ['preview-lightbox', 'undo', 'redo', 'reset-product', 'qr-code', 'magnify-glass', 'download', 'print'],
            'bottom' : [],
          },

          fonts : [ 'Arial', 'Fearless', 'Helvetica', 'Times New Roman',
              'Verdana', 'Geneva', 'Gorditas', 'Eczar', 'Roboto Mono',
              'Poor Story', 'Titillium Web', 'Noto Serif', 'Work Sans',
              'Chela One', 'Indie Flower', 'Inconsolata', 'Bitter',
              'Libre Baskerville', 'Anton', 'Josefin Sans',
              'Cormorant Unicase', 'Lobster', 'Arvo', 'Pacifico', 'Do Hyeon',
              'Shadows Into Light', 'Dancing Script', 'Abril Fatface',
              'Bree Serif', 'Coda Caption', 'Kanit', 'Acme',
              'Gloria Hallelujah', 'Righteous', 'Rajdhani', 'Permanent Marker',
              'Farsan', 'Great Vibes', 'Concert One', 'Poiret One', 'Satisfy',
              'Courgette', 'Marck Script', 'Prata', 'Audiowide', 'Unica One',
              'Julius Sans One', 'Ultra', 'Economica', 'IBM Plex Mono',
              'Amaranth', 'Prosto One', 'Bangers', 'Shrikhand', 'Handlee',
              'Boogaloo', 'Tangerine', 'Kalam', 'Sacramento',
              'Architects Daughter', 'PT Mono', 'Bad Script', 'Special Elite',
              'Libre Barcode 128 Text', 'Shadows Into Light Two',
              'Cabin Sketch', 'Parisienne', 'Damion', 'Covered By Your Grace',
              'Playball', 'Nothing You Could Do', 'Homemade Apple',
              'Fugaz One', 'Rock Salt', 'Allura', 'Press Start 2P',
              'Alex Brush', 'Black Ops One', 'Carter One', 'Just Another Hand',
              'Fredericka the Great', 'Syncopate', 'Bungee Inline', 'Niconne',
              'Coming Soon', 'Leckerli One', 'Galada', 'Caveat Brush',
              'Pinyon Script', 'Cinzel Decorative', 'Mr Dafoe',
              'Reenie Beanie', 'Italianno', 'Nanum Pen Script', 'Quantico',
              'Skranji', 'Allerta Stencil', 'Grand Hotel', 'Yesteryear',
              'Marvel', 'Freckle Face', 'Rochester', 'Nanum Brush Script',
              'Alegreya SC', 'Annie Use Your Telescope', 'Faster One',
              'Raleway Dots', 'Calligraffitti', 'Aclonica', 'Yatra One',
              'Share Tech Mono', 'Graduate', 'Petit Formal Script',
              'East Sea Dokdo', 'Love Ya Like A Sister', 'Kurale',
              'IM Fell Double Pica', ],
          customTextParameters : {
            colors : true,
            removable : true,
            resizable : true,
            draggable : true,
            rotatable : true,
            autoCenter : true,
            boundingBox : "Base",
            curvable : true,
            curveReverse : true,
          },
          customImageParameters : {
            removable : true,
            colors : '#000',
            autoCenter : true,
            boundingBox : "Base",
            minW : 1,
            minH : 1,
            maxW : 9900,
            maxH : 9900,
            filter : true, 
            advancedEditing : true,
            editorMode : true,
          },
          imageParameters : {
            filter : true, 
            advancedEditing : true, 
          },
          imageEditorSettings : {
            masks : [
              '/wp-content/masks/circle.svg',
              '/wp-content/masks/heart.svg',
              '/wp-content/masks/star.svg',
              '/wp-content/masks/hexagon.svg',
              '/wp-content/masks/arches.svg',
              '/wp-content/masks/atomic.svg',
              '/wp-content/masks/flame.svg',
              ],
          },
          elementParameters : {
            patterns : [{%for img in patterns%}'{{img}}',{%endfor%}],
               
          },
        };

        yourDesigner = new FancyProductDesigner($yourDesigner, pluginOpts);
        setTimeout(function(){$('.fpd-actions-container').css({position:'fixed'});
      });
</script>
</html>